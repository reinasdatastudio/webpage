<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Reina Kaino">
<meta name="dcterms.date" content="2025-12-03">

<title>Hypertension Clinical Treatment Analysis – Reina’s Data Studio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0f3940c590527edb36ae4ef33cf4bc7c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Reina’s Data Studio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../enquiry.html"> 
<span class="menu-text">Enquiry</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#study-design-and-dataset" id="toc-study-design-and-dataset" class="nav-link active" data-scroll-target="#study-design-and-dataset">Study Design and Dataset</a></li>
  <li><a href="#data-preparation-and-cleaning" id="toc-data-preparation-and-cleaning" class="nav-link" data-scroll-target="#data-preparation-and-cleaning">Data Preparation and Cleaning</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  <li><a href="#statistical-analysis" id="toc-statistical-analysis" class="nav-link" data-scroll-target="#statistical-analysis">Statistical Analysis</a>
  <ul class="collapse">
  <li><a href="#group-comparisons" id="toc-group-comparisons" class="nav-link" data-scroll-target="#group-comparisons">Group Comparisons</a></li>
  <li><a href="#categorical-outcomes" id="toc-categorical-outcomes" class="nav-link" data-scroll-target="#categorical-outcomes">Categorical Outcomes</a></li>
  <li><a href="#predictors-of-persistent-hypertension" id="toc-predictors-of-persistent-hypertension" class="nav-link" data-scroll-target="#predictors-of-persistent-hypertension">Predictors of Persistent Hypertension</a></li>
  <li><a href="#software" id="toc-software" class="nav-link" data-scroll-target="#software">Software</a></li>
  </ul></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data cleaning</a></li>
  <li><a href="#data-visualisation" id="toc-data-visualisation" class="nav-link" data-scroll-target="#data-visualisation">Data visualisation</a>
  <ul class="collapse">
  <li><a href="#number-of-patients-in-each-treatment-group" id="toc-number-of-patients-in-each-treatment-group" class="nav-link" data-scroll-target="#number-of-patients-in-each-treatment-group">Number of patients in each treatment group</a></li>
  <li><a href="#age-group" id="toc-age-group" class="nav-link" data-scroll-target="#age-group">Age group</a></li>
  <li><a href="#age-vs-cholesterol-level" id="toc-age-vs-cholesterol-level" class="nav-link" data-scroll-target="#age-vs-cholesterol-level">Age vs Cholesterol Level</a></li>
  <li><a href="#age-vs-systolic-blood-pressure" id="toc-age-vs-systolic-blood-pressure" class="nav-link" data-scroll-target="#age-vs-systolic-blood-pressure">Age vs Systolic Blood Pressure</a></li>
  <li><a href="#summary-of-systolic-and-diastolic-bp" id="toc-summary-of-systolic-and-diastolic-bp" class="nav-link" data-scroll-target="#summary-of-systolic-and-diastolic-bp">Summary of systolic and diastolic BP</a>
  <ul class="collapse">
  <li><a href="#percentage" id="toc-percentage" class="nav-link" data-scroll-target="#percentage">Percentage:</a></li>
  </ul></li>
  <li><a href="#cholesterol-vs-blood-pressure" id="toc-cholesterol-vs-blood-pressure" class="nav-link" data-scroll-target="#cholesterol-vs-blood-pressure">Cholesterol vs Blood Pressure</a></li>
  <li><a href="#histogram-of-systolic-bp" id="toc-histogram-of-systolic-bp" class="nav-link" data-scroll-target="#histogram-of-systolic-bp">Histogram of Systolic BP</a></li>
  </ul></li>
  <li><a href="#statistical-tests" id="toc-statistical-tests" class="nav-link" data-scroll-target="#statistical-tests">Statistical Tests</a>
  <ul class="collapse">
  <li><a href="#for-systolic-bp" id="toc-for-systolic-bp" class="nav-link" data-scroll-target="#for-systolic-bp">For systolic BP:</a></li>
  <li><a href="#for-diastolic-bp" id="toc-for-diastolic-bp" class="nav-link" data-scroll-target="#for-diastolic-bp">For diastolic BP:</a></li>
  <li><a href="#chi-squared" id="toc-chi-squared" class="nav-link" data-scroll-target="#chi-squared">Chi-squared</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression">Logistic Regression</a></li>
  <li><a href="#summary-in-a-table-cleaner-output" id="toc-summary-in-a-table-cleaner-output" class="nav-link" data-scroll-target="#summary-in-a-table-cleaner-output">Summary in a table (Cleaner output)</a></li>
  <li><a href="#multicollinearity-check" id="toc-multicollinearity-check" class="nav-link" data-scroll-target="#multicollinearity-check">Multicollinearity check</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Hypertension Clinical Treatment Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Reina Kaino </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<style>

section {
  align-items: start !important;
}

h2 {
    margin-top: 1rem !important;
}

#title-block-header {
  margin-bottom: 2rem;
}

</style>
<p>This dataset was taken from: <a href="https://www.kaggle.com/datasets/isabelladil/phase-iii-clinical-trial-dataset/data" class="uri">https://www.kaggle.com/datasets/isabelladil/phase-iii-clinical-trial-dataset/data</a> It is a synthetic data and does not contain any data of individuals in real life.</p>
<section id="study-design-and-dataset" class="level2">
<h2 class="anchored" data-anchor-id="study-design-and-dataset">Study Design and Dataset</h2>
<p>This study used a synthetic clinical trial dataset consisting of 1,000 patients enrolled across multiple study sites. Each patient record included demographic variables (age, gender), clinical measurements (systolic and diastolic blood pressure, cholesterol level), treatment allocation, adverse event counts, and dropout status. Three treatment groups were evaluated: Drug A (CardioX), Drug B (active comparator), and Placebo.</p>
</section>
<section id="data-preparation-and-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation-and-cleaning">Data Preparation and Cleaning</h2>
<p><strong>Missing data</strong>: Checked using colSums(is.na()); no missing values were present.</p>
<p><strong>Outliers</strong>: Potential outliers in cholesterol levels were identified using the IQR method within age-stratified groups to avoid age-related confounding.</p>
<p><strong>Age grouping</strong>: Patients were categorised into four age groups (6–19, 20–39, 40–59, 60–98 years) using the cut() function to support visualisation and subgroup comparisons.</p>
<p>A binary variable hypertension was created to classify patients based on commonly accepted thresholds (≥140 mmHg systolic or ≥90 mmHg diastolic), reflecting individuals likely in need of treatment.</p>
</section>
<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<p>Descriptive statistics and graphical visualisations (bar charts, histograms, scatterplots, and boxplots) were generated using the tidyverse and ggplot2 packages. These visualisations were used to: - Assess treatment group balance - Evaluate distributions of age, blood pressure, and cholesterol - Examine relationships between age, cholesterol level, and blood pressure - Compare blood pressure outcomes across treatment groups - Explore dropout patterns</p>
</section>
<section id="statistical-analysis" class="level2">
<h2 class="anchored" data-anchor-id="statistical-analysis">Statistical Analysis</h2>
<section id="group-comparisons" class="level3">
<h3 class="anchored" data-anchor-id="group-comparisons">Group Comparisons</h3>
<p>Because blood pressure values were not assumed to be normally distributed, non-parametric tests were used: - Kruskal–Wallis tests were applied to compare systolic and diastolic blood pressure across the three treatment groups. - Pairwise Wilcoxon rank-sum tests with Benjamini–Hochberg correction were used for post-hoc comparisons.</p>
</section>
<section id="categorical-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="categorical-outcomes">Categorical Outcomes</h3>
<p>To compare the proportion of patients with hypertension across treatment groups, a Chi-squared test was conducted using a contingency table of hypertension status by treatment group.</p>
</section>
<section id="predictors-of-persistent-hypertension" class="level3">
<h3 class="anchored" data-anchor-id="predictors-of-persistent-hypertension">Predictors of Persistent Hypertension</h3>
<p>A multivariable logistic regression model was fitted to identify factors associated with remaining hypertensive after treatment. Predictors included: - Treatment group - Age - Gender - Cholesterol level - Number of adverse events</p>
<p>The model was fitted using the glm() function with a binomial link. Multicollinearity was assessed using Variance Inflation Factors (VIF) via the car::vif() function.</p>
</section>
<section id="software" class="level3">
<h3 class="anchored" data-anchor-id="software">Software</h3>
<p>All analyses were conducted in R (version 4.5.2). Key libraries included tidyverse, ggplot2, rstatix, and car.</p>
</section>
</section>
<section id="data-cleaning" class="level1">
<h1>Data cleaning</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"synthetic_clinical_trial_data.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Subject_ID        Site_ID           Age           Gender         
 Min.   :   1.0   Min.   : 1.00   Min.   : 6.00   Length:1000       
 1st Qu.: 250.8   1st Qu.:15.00   1st Qu.:39.00   Class :character  
 Median : 500.5   Median :27.00   Median :51.00   Mode  :character  
 Mean   : 500.5   Mean   :26.70   Mean   :50.45                     
 3rd Qu.: 750.2   3rd Qu.:38.25   3rd Qu.:61.00                     
 Max.   :1000.0   Max.   :50.00   Max.   :98.00                     
 Enrollment_Date    Treatment_Group    Adverse_Events      Dropout     
 Length:1000        Length:1000        Min.   : 0.000   Min.   :0.000  
 Class :character   Class :character   1st Qu.: 0.000   1st Qu.:0.000  
 Mode  :character   Mode  :character   Median : 1.000   Median :0.000  
                                       Mean   : 1.046   Mean   :0.161  
                                       3rd Qu.: 2.000   3rd Qu.:0.000  
                                       Max.   :15.000   Max.   :1.000  
  Systolic_BP     Diastolic_BP    Cholesterol_Level
 Min.   : 73.0   Min.   : 47.00   Min.   : 83.0    
 1st Qu.:109.0   1st Qu.: 73.00   1st Qu.:179.0    
 Median :119.0   Median : 80.00   Median :200.0    
 Mean   :119.5   Mean   : 80.19   Mean   :200.3    
 3rd Qu.:129.0   3rd Qu.: 87.00   3rd Qu.:220.0    
 Max.   :200.0   Max.   :120.00   Max.   :350.0    </code></pre>
</div>
</div>
<ul>
<li>Subject_ID: Unique ID for each patient</li>
<li>Site_ID: The location of the study carried out</li>
<li>Age: Each patient’s age</li>
<li>Gender: Male or Female</li>
<li>Enrollment_Date: The date the patient started the treatment</li>
<li>Treatment_group: Drug A(CardioX), Drug B(Active comparator) and Placebo</li>
<li>Adverse_Events: Number of adverse events reported by patients</li>
<li>Dropout: 0 for staying, 1 for dropping out of the study</li>
<li>Systolic BP: Systolic blood pressure (mmHg)</li>
<li>Diastolic_BP: Diastolic blood pressure (mmHg)</li>
<li>Cholesterol_Level: Cholesterol level (mg/dL)</li>
</ul>
<p>From the summary there are no obvious outliers found. Cholesterol of 350 mg/dL is very high, although it is not impossible for a patient with medical conditions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Subject_ID           Site_ID               Age            Gender 
                0                 0                 0                 0 
  Enrollment_Date   Treatment_Group    Adverse_Events           Dropout 
                0                 0                 0                 0 
      Systolic_BP      Diastolic_BP Cholesterol_Level 
                0                 0                 0 </code></pre>
</div>
</div>
<p>There are no missing values in the dataset.</p>
</section>
<section id="data-visualisation" class="level1">
<h1>Data visualisation</h1>
<section id="number-of-patients-in-each-treatment-group" class="level2">
<h2 class="anchored" data-anchor-id="number-of-patients-in-each-treatment-group">Number of patients in each treatment group</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/tx_group_count-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There are fairly equal numbers of each treatment group.</p>
</section>
<section id="age-group" class="level2">
<h2 class="anchored" data-anchor-id="age-group">Age group</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/age_group_count-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As seen in the summary, the youngest is 6 years old while the oldest patient is 98 years old. The mean age is 50, which is a great age group to conduct the study on.</p>
</section>
<section id="age-vs-cholesterol-level" class="level2">
<h2 class="anchored" data-anchor-id="age-vs-cholesterol-level">Age vs Cholesterol Level</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/age_cholesterol_scatter-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here we will check for outliers for cholesterol level.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>   Subject_ID Site_ID Age Gender Enrollment_Date Treatment_Group Adverse_Events
1          41       8  43 Female         2/10/22          Drug A              1
2          77      20  65   Male         3/18/22         Placebo              1
3          99      36  32 Female          4/9/22          Drug B              2
4         117      38  34 Female         4/27/22         Placebo              2
5         183      14  38   Male          7/2/22          Drug B              0
6         290      25  54   Male        10/17/22          Drug B              0
7         294      44  82 Female        10/21/22         Placebo              0
8         299      10  50   Male        10/26/22          Drug B              1
9         441      27  70 Female         3/17/23         Placebo              1
10        457      28  46   Male          4/2/23          Drug B              5
11        466       1  45   Male         4/11/23          Drug A              0
12        504      45  20 Female         5/19/23         Placebo              2
13        559      31  61 Female         7/13/23          Drug B              0
14        622      25  69   Male         9/14/23         Placebo              0
15        662      39  70   Male        10/24/23         Placebo              1
16        780      50  66 Female         2/19/24          Drug A              0
17        957      30  28 Female         8/14/24         Placebo              0
   Dropout Systolic_BP Diastolic_BP Cholesterol_Level age_group is_outlier
1        0         101           92               300   (39,59]       TRUE
2        0         125           82               280   (59,98]       TRUE
3        1         113           67               121   (19,39]       TRUE
4        0         126           87               298   (19,39]       TRUE
5        0         100           88               350   (19,39]       TRUE
6        0         124           82                83   (39,59]       TRUE
7        1         120           73               284   (59,98]       TRUE
8        0         104           79               350   (39,59]       TRUE
9        0          91           79               303   (59,98]       TRUE
10       0         112           75               110   (39,59]       TRUE
11       0         138           80               350   (39,59]       TRUE
12       0         107           92               350   (19,39]       TRUE
13       0          93           85               274   (59,98]       TRUE
14       0         117           75               271   (59,98]       TRUE
15       0         132           59               119   (59,98]       TRUE
16       0         107           79               115   (59,98]       TRUE
17       0         128           62               350   (19,39]       TRUE</code></pre>
</div>
</div>
<p>The table shows 17 individuals are identified as outliers.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/age_cholesterol_box-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>*There are a few overlapping outliers hence total of 14 outlier dots are visible (There are total of 17 outliers)</p>
</section>
<section id="age-vs-systolic-blood-pressure" class="level2">
<h2 class="anchored" data-anchor-id="age-vs-systolic-blood-pressure">Age vs Systolic Blood Pressure</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/age_systolic-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/age_systolic_box-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Outliers can be seen on both systolic and diastolic blood pressures.</p>
<p>We will separate those who actually have hypertension vs those who do not have hypertension.</p>
<p><a href="https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings" class="uri">https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings</a> states that Stage 1 high blood pressure starts from 130/80mmHg, although for this experiment, we will categorise those with more than 140/90mmHg as hypertension. This is because the experiment is to see the effects of the medication, and medications are normally given to those with BP above 140/90mmHg. Those who most definitely needing medications are those with BP more then 140/90mmHg.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="at">hypertension =</span> (Systolic_BP<span class="sc">&gt;=</span><span class="dv">140</span> <span class="sc">|</span> Diastolic_BP <span class="sc">&gt;=</span> <span class="dv">90</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>drug_A <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Treatment_Group <span class="sc">==</span> <span class="st">"Drug A"</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>drug_B <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Treatment_Group <span class="sc">==</span> <span class="st">"Drug B"</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>placebo <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Treatment_Group <span class="sc">==</span> <span class="st">"Placebo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="summary-of-systolic-and-diastolic-bp" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-systolic-and-diastolic-bp">Summary of systolic and diastolic BP</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Treatment_Group) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sys =</span> <span class="fu">mean</span>(Systolic_BP),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sys =</span> <span class="fu">sd</span>(Systolic_BP),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_dia =</span> <span class="fu">mean</span>(Diastolic_BP),</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  Treatment_Group mean_sys sd_sys mean_dia     n
  &lt;chr&gt;              &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;
1 Drug A              120.   15.4     80.3   311
2 Drug B              119.   14.4     80.3   326
3 Placebo             119.   17.4     80.0   363</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Surprisingly (or not surprisingly) those with placebo treatment had more success than the real drugs.</p>
<section id="percentage" class="level3">
<h3 class="anchored" data-anchor-id="percentage">Percentage:</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
# Groups:   Treatment_Group [3]
  Treatment_Group hypertension     n percentage
  &lt;chr&gt;           &lt;fct&gt;        &lt;int&gt;      &lt;dbl&gt;
1 Placebo         FALSE          275       75.8
2 Drug A          FALSE          231       74.3
3 Drug B          FALSE          239       73.3</code></pre>
</div>
</div>
<p>They all have about the same success rate of 73 to 75%.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/dropout_bar-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="cholesterol-vs-blood-pressure" class="level2">
<h2 class="anchored" data-anchor-id="cholesterol-vs-blood-pressure">Cholesterol vs Blood Pressure</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="histogram-of-systolic-bp" class="level2">
<h2 class="anchored" data-anchor-id="histogram-of-systolic-bp">Histogram of Systolic BP</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hypertension-clinical-tx_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="statistical-tests" class="level1">
<h1>Statistical Tests</h1>
<p>The null hypothesis is that there are no significant difference in the systolic BP between the different treatment groups.</p>
<section id="for-systolic-bp" class="level3">
<h3 class="anchored" data-anchor-id="for-systolic-bp">For systolic BP:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kruskal.test</span>(Systolic_BP <span class="sc">~</span> Treatment_Group, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Kruskal-Wallis rank sum test

data:  Systolic_BP by Treatment_Group
Kruskal-Wallis chi-squared = 0.45994, df = 2, p-value = 0.7946</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairwise.wilcox.test</span>(df<span class="sc">$</span>Systolic_BP,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                     df<span class="sc">$</span>Treatment_Group,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">p.adjust.method =</span> <span class="st">"BH"</span>)   <span class="co"># Benjamini–Hochberg recommended</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Wilcoxon rank sum test with continuity correction 

data:  df$Systolic_BP and df$Treatment_Group 

        Drug A Drug B
Drug B  0.86   -     
Placebo 0.86   0.86  

P value adjustment method: BH </code></pre>
</div>
</div>
<p><strong>Kruskal-Wallis test</strong>: The large p-value of 0.79 shows that there is no evidence that the median systolic BP differs across different treatment groups. The distributions are statistically similar.</p>
<p><strong>Wilcoxon Pairwise test</strong>: - Again the very high p-value shows that no treatment groups significantly differ - All groups have similar systolic BP pressure results,</p>
</section>
<section id="for-diastolic-bp" class="level3">
<h3 class="anchored" data-anchor-id="for-diastolic-bp">For diastolic BP:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kruskal.test</span>(Diastolic_BP <span class="sc">~</span> Treatment_Group, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Kruskal-Wallis rank sum test

data:  Diastolic_BP by Treatment_Group
Kruskal-Wallis chi-squared = 0.22742, df = 2, p-value = 0.8925</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairwise.wilcox.test</span>(df<span class="sc">$</span>Diastolic_BP,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                     df<span class="sc">$</span>Treatment_Group,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">p.adjust.method =</span> <span class="st">"BH"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Wilcoxon rank sum test with continuity correction 

data:  df$Diastolic_BP and df$Treatment_Group 

        Drug A Drug B
Drug B  0.9    -     
Placebo 0.9    0.9   

P value adjustment method: BH </code></pre>
</div>
</div>
<p>Also very high p-values observed.</p>
</section>
<section id="chi-squared" class="level2">
<h2 class="anchored" data-anchor-id="chi-squared">Chi-squared</h2>
<p>To again check the proportion of patients with high BP across different treatment groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">80</span>, <span class="dv">231</span>,   <span class="co"># Drug A: high, normal</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">87</span>, <span class="dv">239</span>,   <span class="co"># Drug B</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">88</span>, <span class="dv">275</span>    <span class="co"># Placebo</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>), </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="at">nrow =</span> <span class="dv">3</span>, </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add row/column names</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(bp) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DrugA"</span>, <span class="st">"DrugB"</span>, <span class="st">"Placebo"</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bp) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"HighBP"</span>, <span class="st">"NormalBP"</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Chi-square test</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(bp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  bp
X-squared = 0.55219, df = 2, p-value = 0.7587</code></pre>
</div>
</div>
<p>The very high p-value shows that there is no statistically significant difference between the three treatment groups.</p>
</section>
<section id="logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="logistic-regression">Logistic Regression</h2>
<p>This answers the question “Which patient factors predict hypertension even after the treatment?”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(hypertension <span class="sc">~</span> Treatment_Group <span class="sc">+</span> Age <span class="sc">+</span> Cholesterol_Level <span class="sc">+</span> Adverse_Events<span class="sc">+</span> Gender, <span class="at">data =</span> df, <span class="at">family =</span> binomial)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = hypertension ~ Treatment_Group + Age + Cholesterol_Level + 
    Adverse_Events + Gender, family = binomial, data = df)

Coefficients:
                        Estimate Std. Error z value Pr(&gt;|z|)   
(Intercept)            -1.626554   0.548004  -2.968   0.0030 **
Treatment_GroupDrug B   0.047951   0.181043   0.265   0.7911   
Treatment_GroupPlacebo -0.093418   0.179441  -0.521   0.6026   
Age                    -0.004771   0.004738  -1.007   0.3140   
Cholesterol_Level       0.003829   0.002276   1.682   0.0926 . 
Adverse_Events          0.031001   0.049146   0.631   0.5282   
GenderMale              0.015844   0.145915   0.109   0.9135   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 1135.5  on 999  degrees of freedom
Residual deviance: 1130.7  on 993  degrees of freedom
AIC: 1144.7

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
<p>The large p-values of Drug B and Placebo show that there is no evidence that Drug A or B reduces hypertension compared to placebo, after adjusting for age, cholesterol, adverse events and gender.</p>
<p><strong>Age</strong>: Estimate is a negative value of -0.0048, with p-value of 0.31, meaning older patients are slightly less likely to remain hypertensive, but this is not enough to be meaningful.</p>
<p><strong>Cholesterol</strong>: p-value of 0.093 is borderline, but it is not statistically significant enough to conclude that cholesterol increases risk of hypertension remaining.</p>
<p>High p-value for adverse events, and gender indicates there is no relationship between those and hypertension.</p>
<p>After adjusting for other variables, none of the treatments show a statistically significant effect on whether hypertension remains after treatment. i.e.&nbsp;Between the treatments there are no significant differences (Drug A/B vs Placebo).</p>
</section>
<section id="summary-in-a-table-cleaner-output" class="level2">
<h2 class="anchored" data-anchor-id="summary-in-a-table-cleaner-output">Summary in a table (Cleaner output)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 7
  term                   estimate std.error statistic p.value conf.low conf.high
  &lt;chr&gt;                     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)               0.197   0.548      -2.97  0.00300   0.0668     0.574
2 Treatment_GroupDrug B     1.05    0.181       0.265 0.791     0.736      1.50 
3 Treatment_GroupPlacebo    0.911   0.179      -0.521 0.603     0.641      1.30 
4 Age                       0.995   0.00474    -1.01  0.314     0.986      1.00 
5 Cholesterol_Level         1.00    0.00228     1.68  0.0926    0.999      1.01 
6 Adverse_Events            1.03    0.0491      0.631 0.528     0.932      1.13 
7 GenderMale                1.02    0.146       0.109 0.914     0.763      1.35 </code></pre>
</div>
</div>
</section>
<section id="multicollinearity-check" class="level2">
<h2 class="anchored" data-anchor-id="multicollinearity-check">Multicollinearity check</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">vif</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      GVIF Df GVIF^(1/(2*Df))
Treatment_Group   1.011396  2        1.002837
Age               1.002592  1        1.001295
Cholesterol_Level 1.006929  1        1.003459
Adverse_Events    1.007916  1        1.003950
Gender            1.006296  1        1.003143</code></pre>
</div>
</div>
<p>No multicollinearity detected.</p>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>From the Kruskal-Wallis and Chi-squared results, we can conclude that the treatment groups are very similar. This means that any observed differences in the future are due to the treatments themselves and are not due to pre-existing conditions.</p>
<p>The logistic regression did not show any variables as statistically significant in predicting hypertension remaining. Cholesterol is marginally significant, meaning that higher cholesterol levels might slightly increase the odds of remaining hypertension.</p>
<p>This had been quite obvious from the beginning when we observed that placebo group had almost the same percentage of patients with reduced hypertension compared with those on Drug A and B.</p>
<p>This concludes that Drug A and B are just as effective as placebo.</p>
<p>This dataset is great for a simple clinical analysis report. The dataset was simple, so a more comprehensive data, for example, including variables such as pre- and post- treatment blood pressure, heart rate, other underlying medical conditions etc. would have given deeper analysis and more significant results. This is a synthetic dataset though, so for a comprehensive data, a real-life data would be required.</p>


</section>

</main> <!-- /main -->
&nbsp;
<hr>

<p style="text-align: center;">A work by <a href="https://reijkg2904.github.io/portfolio/">Reina Kaino</a></p>

<p style="text-align: center;"><span style="color: #808080;"><em>reinasdatastudio@gmail.com</em></span></p>

<p style="text-align: center;"><span style="color: #808080;"><em>@reinas_data.studio</em></span></p>



&nbsp;
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Reina’s Data Studio</p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/reinas_data.studio/">
      <i class="bi bi-instagram" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/reijkg2904/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/reinasdatastudio">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@reinas_data.studio">
      <i class="bi bi-youtube" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>